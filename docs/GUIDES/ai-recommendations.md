# 财神AI推荐功能使用指南

财神AI是 makeNeoRich 彩票选号助手的核心功能之一，基于智谱AI大模型提供智能化的彩票号码推荐。

## 目录

- [功能概述](#功能概述)
- [使用方法](#使用方法)
- [推荐原理](#推荐原理)
- [理解推荐结果](#理解推荐结果)
- [置信度解读](#置信度解读)
- [运势等级](#运势等级)
- [自定义参数](#自定义参数)
- [常见问题](#常见问题)

---

## 功能概述

财神AI提供：

- ✅ **5组智能推荐号码**: 一次生成5组精选号码
- ✅ **详细推荐理由**: 每个号码都有充分的理由说明
- ✅ **多维分析**: 结合玄学、命理、数字规律、时机等因素
- ✅ **置信度评分**: 每个号码的推荐置信度 (0-100)
- ✅ **运势评估**: 综合运势等级判断
- ✅ **个性化定制**: 基于您的生日、星座、五行等个人因素

---

## 使用方法

### 步骤1: 确保已配置API密钥

财神AI功能需要智谱AI API密钥。请检查 `.env` 文件：

```env
VITE_ZHIPU_API_KEY=your_zhipu_api_key_here
```

如果未配置，应用会提示您配置或使用随机推荐功能。

### 步骤2: 完善个人信息

为了获得更精准的推荐，建议在"设置"页面完善个人信息：

1. **出生日期**: 用于计算星座、五行、生命路径数
2. **姓名**: 用于命理分析（可选）

### 步骤3: 使用财神AI推荐

1. 打开应用，进入主页面
2. 点击 **"财神AI推荐"** 按钮
3. 等待AI分析（通常3-10秒）
4. 查看5组推荐号码

### 步骤4: 查看详细分析

每组推荐号码都可以展开查看：

- **号码理由**: 每个红球和蓝球的推荐理由
- **运势等级**: 大吉、吉、中吉、平、凶
- **关键优势**: 该组号码的主要优势
- **推荐排名**: 5组号码的推荐排序

### 步骤5: 保存喜欢的号码

- 点击"使用这组"按钮直接应用到选号
- 或点击"保存"按钮存入历史记录

---

## 推荐原理

财神AI基于多维分析模型：

### 1. 玄学因素分析

```
- 五行生克关系
- 天干地支推演
- 生肖运势影响
- 节气能量分析
```

**示例**:
> "根据当日天干地支甲子日，木气旺盛，推荐选择与木相生的数字..."
> "您的生肖属龙，当日属土，龙土相生，推荐土属性号码..."

### 2. 命理分析

```
- 星座特质分析
- 生命路径数计算
- 命理五行判断
- 个性特点匹配
```

**示例**:
> "您是射手座，火象星座，冒险精神强，推荐大胆的号码组合..."
> "生命路径数为5，崇尚自由，推荐包含数字5和与5相关的号码..."

### 3. 数字规律分析

```
- 历史中奖频率
- 和值范围统计
- 奇偶平衡分析
- 连号出现概率
```

**示例**:
> "历史数据显示，和值在90-110之间的中奖率较高..."
> "本期推荐奇偶比3:3，符合历史最佳分布..."

### 4. 时机判断

```
- 日期能量计算
- 时辰吉凶分析
- 月相影响
- 节气转换
```

**示例**:
> "当日为满月，能量最强，适合选择较大号码..."
> "当前时辰为吉时，火元素活跃，推荐红色系号码..."

---

## 理解推荐结果

### 推荐数据结构

```typescript
interface NumberSetRecommendation {
  redBalls: number[];      // 红球号码
  blueBalls: number[];     // 蓝球号码
  numberReasons: NumberReason[]; // 每个号码的详细理由
  setAnalysis: {
    summary: string;       // 该组号码的分析摘要
    fortuneLevel: string;  // 运势等级
    keyStrengths: string[]; // 关键优势
    recommendationRank: number; // 推荐排名 1-5
  };
}
```

### 号码理由解读

每个号码都会显示5个维度的理由：

| 维度 | 说明 | 示例 |
|------|------|------|
| **主要理由** | 核心推荐原因 | "该号码近期出现频率高，且符合您的五行命理" |
| **玄学理由** | 五行、天干地支分析 | "金属性号码，与当日金旺相合" |
| **星座理由** | 星座特质关联 | "适合射手的冒险性格" |
| **五行理由** | 五行生克关系 | "补足您命理缺火的问题" |
| **数字命理** | 数字命理分析 | "与生命路径数7产生共鸣" |
| **时机理由** | 时间因素分析 | "当日火旺，火属性号码吉利" |

---

## 置信度解读

置信度范围：**0-100分**

### 置信度等级

| 分数区间 | 等级 | 说明 | 建议 |
|---------|------|------|------|
| 90-100 | 极高 | 多个维度高度吻合 | 强烈推荐 |
| 75-89 | 高 | 大部分维度支持 | 推荐使用 |
| 60-74 | 中等 | 基本符合要求 | 可以考虑 |
| 45-59 | 一般 | 部分维度支持 | 谨慎选择 |
| 0-44 | 低 | 各维度支持度低 | 不推荐 |

### 置信度影响因素

1. **多维度一致性**: 各维度分析结果越一致，置信度越高
2. **历史数据匹配**: 与历史中奖规律匹配度高
3. **个人命理匹配**: 与您的命理特征匹配度高
4. **时机契合度**: 与当前日期、时辰契合度高

**示例**:
> 红球 07 - 置信度: 92分
> - 各维度高度推荐
> - 历史数据显示该号码在您的幸运日出现频率高
> - 符合您的命理五行
> - **建议: 优先选择**

---

## 运势等级

### 等级分类

```
1. 大吉 ⭐⭐⭐⭐⭐
   - 多个维度完美匹配
   - 强烈推荐购买

2. 吉 ⭐⭐⭐⭐
   - 大部分维度支持
   - 推荐购买

3. 中吉 ⭐⭐⭐
   - 基本符合要求
   - 可以购买

4. 平 ⭐⭐
   - 优缺点参半
   - 谨慎购买

5. 凹 ⭐
   - 不建议购买
   - 建议选择其他组
```

### 等级判定依据

- **五行生克**: 体用关系是否相生
- **数字能量**: 号码组合的能量水平
- **时机契合**: 与当前时机的契合度
- **历史概率**: 基于历史数据的概率评估

---

## 自定义参数

### 当前版本

目前AI推荐自动使用以下信息：

1. **个人信息** (来自设置页面)
   - 出生日期
   - 星座
   - 五行命理

2. **当前信息** (自动获取)
   - 当前日期
   - 当前时辰
   - 彩票类型（双色球/大乐透）

### 未来规划

计划支持的自定义参数：

- [ ] 推荐策略偏好（保守/平衡/激进）
- [ ] 号码范围限制
- [ ] 特殊数字包含/排除
- [ ] 和值范围设置
- [ ] 奇偶比例设置

---

## 常见问题

### Q1: 财神AI推荐准确吗？

A: 财神AI基于多维分析提供参考建议，但不能保证中奖。彩票本质是随机事件，AI推荐只是基于历史数据和命理分析的参考。请理性购彩，量力而行。

### Q2: 为什么每次推荐都不一样？

A: AI推荐考虑了日期、时辰等实时因素，每次分析的时间不同，结果自然不同。这是正常现象。

### Q3: 置信度高的号码就一定会中吗？

A: 不一定。置信度高只代表该号码在多维分析中表现更好，但彩票开奖是独立的随机事件，不受之前任何结果影响。

### Q4: 我应该选择哪一组推荐？

A: 建议：
- **首选**: 运势等级"大吉"或"吉"的组
- **次选**: 推荐排名靠前（1-2名）的组
- **参考**: 查看各组的详细理由，选择最符合您直觉的组

### Q5: AI推荐失败怎么办？

A: 如果AI调用失败，应用会自动降级到随机推荐功能。同时建议：
1. 检查网络连接
2. 确认API密钥配置正确
3. 稍后重试

### Q6: 可以只使用某个维度的分析吗？

A: 当前版本不支持，但您可以：
- 查看详细理由后手动选择号码
- 使用随机选号功能，配合其他分析

### Q7: AI推荐会消耗我的API配额吗？

A: 会。每次推荐大约消耗：
- 智谱AI: 1-2次API调用
- 建议合理使用，避免频繁调用

### Q8: 推荐结果可以保存吗？

A: 可以：
- 点击"保存"按钮存入历史记录
- 或直接点击"使用这组"应用到当前选号

### Q9: AI推荐和随机选号哪个更好？

A: 两者各有优势：
- **AI推荐**: 多维分析，个性化强，有详细理由
- **随机选号**: 快速便捷，完全随机，符合彩票本质

建议结合使用：先用AI推荐获取灵感，再用随机选号增加选择。

### Q10: 如何提高推荐准确性？

A: 虽然彩票是随机的，但您可以：
1. 完善个人信息（生日、星座等）
2. 在合适的时机（吉时）使用AI推荐
3. 结合多组推荐综合判断
4. 参考历史记录的中奖情况

---

## 最佳实践

### 1. 合理使用频率

```
建议: 每天1-2次
原因:
- 避免浪费API配额
- 给自己充分的思考时间
- 同一天的运势分析相对稳定
```

### 2. 结合个人直觉

```
AI推荐 + 个人直觉 = 最佳选择
- AI提供理性分析
- 直觉提供感性判断
- 两者结合更可靠
```

### 3. 分散投资

```
不要把所有赌注押在一组号码上:
- 选择2-3组AI推荐的号码
- 每组号码购买少量注数
- 增加中奖概率
```

### 4. 记录和分析

```
养成记录习惯:
- 保存每次AI推荐
- 记录实际购买结果
- 定期分析中奖情况
- 总结个人经验
```

---

## 相关功能

- [反选批量选号](./reverse-selection.md) - 批量生成和筛选号码
- [梅花易数预测](./plum-blossom.md) - 传统易学预测方法
- [每日运势](../../README.md#个性化功能) - 日期运势分析

---

## 技术细节

### AI模型信息

- **提供商**: 智谱AI (https://open.bigmodel.cn/)
- **模型**: GLM-4
- **参数**: Temperature 0.7, Top-P 0.9
- **响应时间**: 通常3-10秒

### 数据处理流程

```
1. 收集用户信息（生日、星座、五行）
   ↓
2. 获取当前时间信息（日期、时辰、节气）
   ↓
3. 计算多维分析数据
   ↓
4. 构建AI Prompt
   ↓
5. 调用智谱AI API
   ↓
6. 解析AI响应
   ↓
7. 格式化展示推荐结果
```

### 性能优化

- **请求缓存**: 相同条件的请求缓存1小时
- **流式响应**: 支持流式展示AI思考过程
- **错误重试**: 自动重试失败的请求
- **降级策略**: AI失败时降级到随机推荐

---

## 更新日志

### v1.1.0 (2026-02-08)
- ✨ 新增财神AI推荐功能
- ✨ 支持5组号码推荐
- ✨ 详细的理由说明
- ✨ 置信度评分系统
- ✨ 运势等级评估

---

## 技术支持

如有问题或建议，请：
1. 查看 [API文档](../API.md#智谱-ai-api)
2. 提交 Issue 到 GitHub
3. 参考官方文档: https://open.bigmodel.cn/

祝您好运连连！🎯💰
